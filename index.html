<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FACH HR - The job market is broken. We will fix it for you!</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Hidden Netlify Form for detection at build time -->
    <form name="contact" netlify netlify-honeypot="bot-field" hidden>
        <input type="text" name="name" />
        <input type="email" name="email" />
        <textarea name="message"></textarea>
    </form>
    
    <nav>
        <div class="logo">
            <img src="images/Asset11.png" alt="FACH HR" class="logo-img">
        </div>
        <div class="nav-right">
            <button id="contact-button" class="contact-button">Contact</button>
        </div>
    </nav>
    
    <main class="hero">
        <div class="hero-content">
            <div class="main-logo">
                <img src="images/Asset15.png" alt="FACH HR STUDENT" class="main-logo-img">
            </div>
            
            <h1 class="tagline">The job market is broken.<br>We will fix it for you!</h1>
        </div>
    </main>
    
    <div id="contact-overlay" class="contact-overlay">
        <div class="contact-container">
            <div class="contact-header">
                <h2>Get in touch</h2>
                <button id="close-contact" class="close-contact">&times;</button>
            </div>
            <form id="contactForm" class="contact-form">
                <div class="form-row">
                    <input type="text" name="name" placeholder="Name" required>
                </div>
                
                <div class="form-row">
                    <input type="email" name="email" placeholder="Email" required>
                </div>
                
                <div class="form-row">
                    <textarea name="message" placeholder="Your message" required></textarea>
                </div>
                
                <div class="form-row">
                    <button type="submit" class="submit-btn">Send message</button>
                </div>
                <div id="form-status" class="form-status"></div>
            </form>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const contactButton = document.getElementById('contact-button');
            const contactOverlay = document.getElementById('contact-overlay');
            const closeContact = document.getElementById('close-contact');
            const contactForm = document.getElementById('contactForm');
            const formStatus = document.getElementById('form-status');
            
            const scriptURL = 'https://script.google.com/macros/s/AKfycbzRTJR88yD8p7aA2N36EQBMMhAjvvBhka9v4vnJMfKO23EICdLlr_amzYjyMKDsGoNe/exec';
            
            contactButton.addEventListener('click', function() {
                contactOverlay.classList.add('active');
            });
            
            closeContact.addEventListener('click', function() {
                contactOverlay.classList.remove('active');
                // Reset form and status when closing
                contactForm.reset();
                formStatus.textContent = '';
                formStatus.className = 'form-status';
            });
            
            // Close overlay when clicking outside the form
            contactOverlay.addEventListener('click', function(e) {
                if (e.target === contactOverlay) {
                    contactOverlay.classList.remove('active');
                    // Reset form and status when closing
                    contactForm.reset();
                    formStatus.textContent = '';
                    formStatus.className = 'form-status';
                }
            });
            
            // Form submission
            contactForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Show submitting status
                formStatus.textContent = 'Sending...';
                formStatus.className = 'form-status';
                
                // Disable submit button while sending
                const submitBtn = contactForm.querySelector('.submit-btn');
                submitBtn.disabled = true;
                
                // Gather form data
                const formData = new FormData(contactForm);
                const data = new URLSearchParams();
                for (const pair of formData) {
                    data.append(pair[0], pair[1]);
                }
                
                // Send to Google Apps Script
                fetch(scriptURL, {
                    method: 'POST',
                    body: data
                })
                .then(response => response.json())
                .then(data => {
                    if (data.result === 'success') {
                        formStatus.textContent = data.message;
                        formStatus.className = 'form-status success';
                        contactForm.reset();
                    } else {
                        formStatus.textContent = data.message;
                        formStatus.className = 'form-status error';
                    }
                })
                .catch(error => {
                    formStatus.textContent = 'An error occurred. Please try again later.';
                    formStatus.className = 'form-status error';
                    console.error('Error:', error);
                })
                .finally(() => {
                    // Re-enable submit button
                    submitBtn.disabled = false;
                });
            });
        });
    </script>
</body>
</html>